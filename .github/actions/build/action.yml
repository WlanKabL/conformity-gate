name: Build Application

inputs:
    cache-key:
        required: true
        description: "Dependencies cache key"

runs:
    using: "composite"
    steps:
        - name: Setup Node.js
          uses: actions/setup-node@v4
          with:
              node-version-file: ".nvmrc"

        - uses: actions/cache/restore@v4
          with:
              key: ${{ inputs.cache-key }}
              fail-on-cache-miss: true
              path: node_modules/

        - name: Build application
          run: npm run build
          shell: bash
